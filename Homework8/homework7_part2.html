<!DOCTYPE html>
<!-- Written by Max Rocans, 2024 -->
<html lang="en">

<head>
    <title>CIS 114 Homework 7 Part 2</title>
    <meta charset="utf-8">
    <meta name="description" content="Javascript Cookies by Max Rocans">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Styles form and message display */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        form {
            margin-top: 20px;
        }

        #welcome-message {
            margin-top: 20px;
            font-size: 1.2em;
        }

        .error-message {
            color: red;
            font-size: 0.9em;
            margin-top: 10px;
            display: none;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <header>
        <h1>CIS 114 Assignments</h1>
    </header>

    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="homework1.html">Homework 1</a></li>
            <li><a href="homework2.html">Homework 2</a></li>
            <li><a href="homework3.html">Homework 3</a></li>
            <li><a href="homework4.html">Homework 4</a></li>
            <li><a href="homework5.html">Homework 5</a></li>
            <li><a href="homework6.html">Homework 6</a></li>
            <li><a href="homework7.html">Homework 7</a></li>
            <li><a href="homework8.html">Homework 8</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <h2>Homework 7 - Part 2</h2>
        <div id="welcome-message"></div>
        <form id="userForm" style="display:none;">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required><br><br>

            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required><br><br>

            <button type="button" id="saveButton">Save</button>
            <div id="error-message" class="error-message">Both fields are required!</div>
        </form>
    </main>

    <footer>
        <p>&copy; 2024 Max Rocans Website</p>
    </footer>

    <script>
        // Set cookies function
        function setCookie(name, value) {
            document.cookie = `${name}=${value}; path=/;`;
        }

        // Get a specific cookie value function
        function getCookie(name) {
            const cookies = document.cookie.split('; ');
            for (let cookie of cookies) {
                const [key, value] = cookie.split('=');
                if (key === name) return value;
            }
            return null;
        }

        // Check for cookies function
        function checkCookies() {
            const userName = getCookie("name");
            const userUsername = getCookie("username");

            if (userName && userUsername) {
                // If cookies, show welcome message
                document.getElementById('welcome-message').textContent =
                    `Welcome back, ${userName}! Your username is ${userUsername}.`;
            } else {
                // If no cookies, show form
                document.getElementById('userForm').style.display = "block";
            }
        }

        // Save button event listener
        document.getElementById('saveButton').addEventListener('click', () => {
            const name = document.getElementById('name').value.trim();
            const username = document.getElementById('username').value.trim();
            const errorMessage = document.getElementById('error-message');

            if (name && username) {
                // Set cookies
                setCookie("name", name);
                setCookie("username", username);

                // Display welcome message and hide form
                document.getElementById('welcome-message').textContent =
                    `Welcome back, ${name}! Your username is ${username}.`;
                document.getElementById('userForm').style.display = "none";
            } else {
                // Show error message
                errorMessage.style.display = "block";
            }
        });

        // Initial check for cookies
        checkCookies();
    </script>
</body>

</html>
